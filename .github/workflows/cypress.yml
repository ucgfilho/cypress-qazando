name: Pipeline Automation Practice

# Ser√° rodado apenas em pull requests para a branch main
on:
    pull_request:
        branches: [main]

jobs:
    cypress-run:
        runs-on: ubuntu-latest
        steps:
        # Clona o projeto
            -   name: Checkout
                uses: actions/checkout@v4

            # Rodar testes
            -   name: Cypress run
                uses: cypress-io/github-action@v5
                with:
                    record: true
                env:
                    CYPRESS_RECORD_KEY: ${{ secrets.CYPRESS_RECORD_KEY }}